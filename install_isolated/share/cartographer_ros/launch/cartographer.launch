<launch>
  <!-- Adjust the ROS_PACKAGE_PATH to include both the DARE_ROS and cartographer_ros packages -->
  <!-- <env name="ROS_PACKAGE_PATH" value="/home/marwan/DARE_ROS/src:/home/marwan/cartographer_ws/src:${ROS_PACKAGE_PATH}"/> -->

  <!-- Load the URDF configuration file -->
  <!-- <param name="robot_description"
    textfile="$(find cartographer_ros)/urdf/backpack_2d.urdf" /> -->

  <!-- Start the robot state publisher (For transforms) -->
  <!-- <node name="robot_state_publisher" pkg="robot_state_publisher"
    type="robot_state_publisher" /> -->

  <!-- Start the Cartographer node to begin SLAM along with LUA config file -->
  <node name="cartographer_node" pkg="cartographer_ros"
        type="cartographer_node"
        args="-configuration_directory $(find cartographer_ros)/config -configuration_basename canary.lua"
        output="screen">
      <!-- <remap from="echoes" to="horizontal_laser_2d" /> -->
  </node>

  <!-- -->


  <!-- Start RViz for visualization -->
  <node name="rviz" pkg="rviz" type="rviz" required="true"
        args="-d $(find cartographer_ros)/config/lidar.rviz"/> 

  <!-- Bag file to use with Cartographer -->
  <arg name="bag_filename" default="$(find cartographer_ros)/rosbag/lidar_scan_data.bag"/>

  <!-- Use the simulation time -->
  <param name="/use_sim_time" value="true" />
  
  <!-- Play the specified bag file -->
  <node name="playbag" pkg="rosbag" type="play"
        args="--clock -l $(arg bag_filename)" />
</launch>
